<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Undangan Pernikahan Sarah & Ryan</title>
  <style>
    /* Reset dan base */
    * {
      text-align: center;
      margin: 20;
      padding: 20;
      box-sizing: border-box;
    }
    body {      

      background: url('Undangan tanpa foto_20250915_091132_0000.png') no-repeat center center;

      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      
      color: #333;
      overflow-x: hidden;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
      justify-content: center;
    }
    h1, h2, h3 {
      font-family: 'Georgia', serif;
      margin-bottom: 50px;
      color: #591E1F;
    }
    h1 {
      font-size: 3rem;
      color: #591E1F;
    }
    h2 {
      font-size: 2rem;
      color: #591E1F;
    }
    p {
      margin-bottom: 15px;
      font-size: 1.1rem;
      color: #591E1F;
    }
    .divider {
      width: 80px;
      height: 3px;
      background: linear-gradient(to right, transparent, #db2777, transparent);
      margin: 20px auto;
      border-radius: 2px;
    }
    .btn-undangan {
  background: #591E1F;
  color: white;
  border: none;
  padding: 15px 40px;
  font-size: 1.2rem;
  font-weight: 700;
  border-radius: 12px;
  cursor: pointer;
  transition: background 0.3s ease, transform 0.2s ease;
  box-shadow: 0 4px 15px rgba(124, 58, 237, 0.4);
}
.btn-undangan:hover {
  background: linear-gradient(90deg, #db2777, #7c3aed);
  transform: scale(1.05);
}
.btn-undangan:active {
  transform: scale(0.95);
}

    /* Animasi terbit dari bawah ke atas */
    .fade-up {
      opacity: 0;
      transform: translateY(40px);
      animation-fill-mode: forwards;
      animation-name: fadeUp;
      animation-duration: 0.8s;
      animation-timing-function: ease-out;
    }
    .fade-up.delay-1 {
      animation-delay: 0.3s;
    }
    .fade-up.delay-2 {
      animation-delay: 0.6s;
    }
    .fade-up.delay-3 {
      animation-delay: 0.9s;
    }
    .fade-up.delay-4 {
      animation-delay: 1.2s;
    }
    .fade-up.delay-5 {
      animation-delay: 1.5s;
    }
    @keyframes fadeUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
   
    }
  </style>
</head>
<body>
  <header>
    <h2 class="fade-up">The Wedding of</h2>
    <h1 class="fade-up delay-6">Sarah & Ryan</h1>
    <p class="fade-up delay-1">Kepada Yth:</p>
    <div class="divider fade-up delay-2"></div>
    <h3 id="namaTamu" class="fade-up delay-3">Bapak/Ibu/Saudara/i Terkasih</h3>
    <a href="https://rumaimpian123.my.canva.site/tanpa-foto" class="btn-undangan">Buka Undangan</a>
    
    
  </header>


  
  <script>
    // Fungsi ambil parameter URL
    function getQueryParam(param) {
      const params = new URLSearchParams(window.location.search);
      return params.get(param);
    }

    // Set nama tamu otomatis dari parameter ?to=nama
    const namaTamuParam = getQueryParam('to');
    if (namaTamuParam) {
      const namaTamuEl = document.getElementById('namaTamu');
      if (namaTamuEl) {
        namaTamuEl.textContent = decodeURIComponent(namaTamuParam.replace(/\+/g, ' '));
      }
    }

    // Countdown
    const eventDate = new Date('2024-12-31T18:00:00').getTime();
    function updateCountdown() {
      const now = new Date().getTime();
      const distance = eventDate - now;

      if (distance < 0) {
        document.getElementById('days').textContent = '0';
        document.getElementById('hours').textContent = '0';
        document.getElementById('minutes').textContent = '0';
        document.getElementById('seconds').textContent = '0';
        return;
      }

      const days = Math.floor(distance / (1000 * 60 * 60 * 24));
      const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((distance % (1000 * 60)) / 1000);

      document.getElementById('days').textContent = days;
      document.getElementById('hours').textContent = hours;
      document.getElementById('minutes').textContent = minutes;
      document.getElementById('seconds').textContent = seconds;
    }
    updateCountdown();
    setInterval(updateCountdown, 1000);

    // Simpan ucapan tamu di localStorage agar tetap muncul
    const messagesList = document.getElementById('messagesList');
    let messages = JSON.parse(localStorage.getItem('ucapanTamu') || '[]');

    function renderMessages() {
      messagesList.innerHTML = '';
      messages.forEach(msg => {
        const div = document.createElement('div');
        div.className = 'message fade-up';
        div.style.animationDelay = '0.3s';
        div.innerHTML = `<strong>${msg.name}</strong><p>${msg.message}</p>`;
        messagesList.appendChild(div);
      });
    }
    renderMessages();

    // Form submit handler
    document.getElementById('rsvpForm').addEventListener('submit', function(e) {
      e.preventDefault();

      const name = this.name.value.trim();
      const message = this.message.value.trim();

      if (!name || !message) {
        alert('Mohon isi nama dan ucapan dengan lengkap.');
        return;
      }

      // Tambah ke array dan simpan ke localStorage
      messages.unshift({ name, message });
      if (messages.length > 20) messages.pop(); // batasi 20 pesan terakhir
      localStorage.setItem('ucapanTamu', JSON.stringify(messages));

      renderMessages();

      alert(`Terima kasih, ${name}, atas konfirmasi dan ucapan Anda!`);

      this.reset();
    });
  </script>
</body>
</html>